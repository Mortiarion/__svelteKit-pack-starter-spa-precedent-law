<script lang="ts">
	import { createEventDispatcher, onMount } from 'svelte';
	import Heading from '$lib/base-components/Heading.svelte';
	const dispatch = createEventDispatcher();
	let popupVisible = false;

	function closePopup() {
		popupVisible = false;
		dispatch('close');
	}

	function openPopup() {
		popupVisible = true;
	}

	onMount(() => {
		openPopup();
	});
</script>

{#if popupVisible}
	<div class="fixed inset-0 z-50 flex items-end bg-popap">
		<div class="relative flex w-full flex-col items-center gap-8 bg-white p-8 pb-32 pt-16 bs:pb-16">
			<Heading level="h4" classes="text-2xl max-w-[460px] text-center">
				Оберіть зручний для вас спосіб, щоб зв'язатися з нашими фахівцями
			</Heading>

			<div class="flex justify-center gap-5">
				<a href="viber://chat?number=%2B380730343344">
					<svg
						width="106"
						height="106"
						viewBox="0 0 106 106"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<g clip-path="url(#clip0_126_1068)">
							<path
								d="M89.7559 0H15.8393C7.09148 0 0 7.09148 0 15.8393V89.7559C0 98.5036 7.09148 105.595 15.8393 105.595H89.7559C98.5036 105.595 105.595 98.5036 105.595 89.7559V15.8393C105.595 7.09148 98.5036 0 89.7559 0Z"
								fill="#5252E7"
							/>
							<path
								d="M55.4786 38.361C56.3259 38.3322 57.1701 38.4779 57.9588 38.789C58.7475 39.1002 59.4639 39.5701 60.0634 40.1696C60.6629 40.7691 61.1328 41.4854 61.4439 42.2741C61.755 43.0628 61.9008 43.9071 61.872 44.7544M54.0349 32.7925C55.8216 32.7905 57.59 33.1513 59.2332 33.853C60.8763 34.5547 62.3599 35.5826 63.594 36.8746C64.8281 38.1666 65.7871 39.6956 66.4128 41.3692C67.0386 43.0427 67.318 44.8259 67.2343 46.6106M52.1787 27.4302C54.9664 27.3654 57.7368 27.884 60.3122 28.9529C62.8876 30.0217 65.2111 31.6172 67.1337 33.6368C69.0562 35.6565 70.5353 38.0557 71.4761 40.6806C72.4169 43.3056 72.7985 46.0981 72.5965 48.8792"
								stroke="white"
								stroke-width="2.0624"
								stroke-linecap="round"
							/>
							<path
								fill-rule="evenodd"
								clip-rule="evenodd"
								d="M19.5935 47.8483C19.5935 29.0804 23.0996 17.531 52.7982 17.531C82.4968 17.531 86.0029 29.0804 86.0029 47.8483C86.0029 66.6162 82.4968 78.1657 52.7982 78.1657L47.4359 77.9594L36.5052 90.9526C35.6802 91.7775 34.8553 91.1588 34.8553 90.3338V76.1033C33.6178 76.1033 28.4618 73.6284 27.0181 72.1847C22.4808 67.4412 19.5935 63.9351 19.5935 47.8483ZM13.4062 47.8483C13.4062 21.862 24.7495 11.3438 52.7982 11.3438C80.8469 11.3438 92.1901 21.862 92.1901 47.8483C92.1901 73.8346 80.8469 84.3529 52.7982 84.3529C50.7358 84.3529 49.0858 84.3529 46.1985 83.9404L38.3613 92.8087C36.9177 94.4587 32.5866 95.0774 32.5866 90.1276V81.4655C31.3492 81.4655 28.4618 80.2281 24.5432 77.7532C20.6247 75.0721 13.4062 68.6786 13.4062 47.8483ZM59.3979 56.5104C60.7728 54.723 62.4227 54.448 64.3476 55.6854L71.7723 61.2539C72.8722 62.6289 72.391 64.5538 70.3286 67.0287C68.2662 69.5036 66.3413 70.5348 64.5539 70.1223C57.2667 68.4724 50.2545 64.3475 43.5174 57.7479C36.7802 51.1482 32.5866 43.9985 30.9367 36.2988C30.9367 33.549 32.6554 31.2116 36.0927 29.2867C37.8801 28.0492 39.3925 28.393 40.63 30.3179L45.786 37.5363C46.611 39.1862 46.1297 40.6986 44.3423 42.0736C36.2989 45.1672 54.8606 65.1725 59.3979 56.5104Z"
								fill="white"
							/>
						</g>
						<defs>
							<clipPath id="clip0_126_1068">
								<rect width="105.595" height="105.595" fill="white" />
							</clipPath>
						</defs>
					</svg>
				</a>
				<a href="https://t.me/+380730343344">
					<svg
						width="106"
						height="106"
						viewBox="0 0 106 106"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<g clip-path="url(#clip0_126_1072)">
							<path
								d="M89.8581 0H16.3479C7.6482 0 0.595703 7.0525 0.595703 15.7522V89.2624C0.595703 97.9621 7.6482 105.015 16.3479 105.015H89.8581C98.5578 105.015 105.61 97.9621 105.61 89.2624V15.7522C105.61 7.0525 98.5578 0 89.8581 0Z"
								fill="#007FFF"
							/>
							<path
								d="M41.4124 82.863C39.1562 82.863 39.3614 82.0426 38.746 79.9915L32.1826 58.4553L82.4338 28.9199"
								fill="#C8DAEA"
							/>
							<path
								d="M41.4121 82.8628C42.8479 82.8628 43.6683 82.0424 44.6938 81.2219L53.9236 72.4023L42.4376 65.4287"
								fill="#A9C9DD"
							/>
							<path
								d="M42.4374 65.4291L70.1268 85.7347C72.9983 87.5807 75.4596 86.5551 76.28 82.8632L87.5609 29.9457C88.5864 25.4333 85.715 23.3823 82.6384 24.818L16.7991 50.2512C12.4919 51.8921 12.4919 54.5585 15.9787 55.584L33.0025 60.9168L71.9728 36.0989C73.8188 35.0733 75.4596 35.4836 74.229 36.9193"
								fill="#F6FBFE"
							/>
						</g>
						<defs>
							<clipPath id="clip0_126_1072">
								<rect
									width="105.015"
									height="105.015"
									fill="white"
									transform="translate(0.595703)"
								/>
							</clipPath>
						</defs>
					</svg>
				</a>
				<button
					type="button"
					class="absolute right-8 top-5"
					on:click={closePopup}
					aria-label="Close"
				>
					<svg
						width="25"
						height="25"
						viewBox="0 0 25 25"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M23.2284 23.2174L12.1485 12.1488M12.1485 12.1488L1.0686 1.08024M12.1485 12.1488L1.07992 23.2288M12.1485 12.1488L23.2171 1.06891"
							stroke="#A5A3AE"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"
						/>
					</svg>
				</button>
			</div>
		</div>
	</div>
{/if}
